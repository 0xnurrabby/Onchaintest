<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Melt</title>

  <meta name="fc:miniapp" content="{&quot;version&quot;:&quot;1&quot;,&quot;imageUrl&quot;:&quot;https://example.com/assets/embed-3x2.png&quot;,&quot;button&quot;:{&quot;title&quot;:&quot;Open Melt&quot;,&quot;action&quot;:{&quot;type&quot;:&quot;launch_frame&quot;,&quot;url&quot;:&quot;https://example.com/&quot;,&quot;splashImageUrl&quot;:&quot;https://example.com/assets/splash.png&quot;,&quot;splashBackgroundColor&quot;:&quot;#020617&quot;}},&quot;splashImageUrl&quot;:&quot;https://example.com/assets/splash.png&quot;,&quot;splashBackgroundColor&quot;:&quot;#020617&quot;}" />
  <meta name="fc:frame" content="{&quot;version&quot;:&quot;1&quot;,&quot;imageUrl&quot;:&quot;https://example.com/assets/embed-3x2.png&quot;,&quot;button&quot;:{&quot;title&quot;:&quot;Open Melt&quot;,&quot;action&quot;:{&quot;type&quot;:&quot;launch_frame&quot;,&quot;url&quot;:&quot;https://example.com/&quot;,&quot;splashImageUrl&quot;:&quot;https://example.com/assets/splash.png&quot;,&quot;splashBackgroundColor&quot;:&quot;#020617&quot;}},&quot;splashImageUrl&quot;:&quot;https://example.com/assets/splash.png&quot;,&quot;splashBackgroundColor&quot;:&quot;#020617&quot;}" />

  <meta property="og:title" content="Melt" />
  <meta property="og:description" content="A numberless focus timer. Tap to light a digital candle and watch it melt into calm." />
  <meta property="og:image" content="https://example.com/assets/hero.png" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://example.com/" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Melt" />
  <meta name="twitter:description" content="A numberless focus timer. Tap to light a digital candle and watch it melt into calm." />
  <meta name="twitter:image" content="https://example.com/assets/hero.png" />

  <style>
    :root {
      --ink: rgba(255,255,255,.92);
      --glass: rgba(0,0,0,.35);
      --border: rgba(255,255,255,.12);
      --safe: #3b82f6;
      --r: 18px;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: radial-gradient(1200px 900px at 50% 30%, #101018 0%, #000 60%);
      color: var(--ink);
      overflow: hidden;
    }
    body.blackout { background:#000; }
    .top {
      position: fixed; top: 14px; left: 14px; right: 14px;
      display:flex; justify-content: space-between; align-items:center;
      z-index: 10; pointer-events:none;
    }
    .pill {
      pointer-events:auto;
      border: 1px solid var(--border);
      background: var(--glass);
      color: var(--ink);
      padding: 10px 14px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      font-size: 13px;
      display:inline-flex; align-items:center; gap:10px;
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      user-select:none;
    }
    .btn { cursor:pointer; }
    .btn:active { transform: translateY(1px); }
    .dot {
      width:10px; height:10px; border-radius:999px;
      background: rgba(255,255,255,.28);
      box-shadow: 0 0 0 3px rgba(255,255,255,.08);
    }
    .dot.mini { background: var(--safe); box-shadow: 0 0 0 3px rgba(59,130,246,.18); }
    .stage {
      height:100%; display:grid; place-items:center; padding: 22px;
      transition: opacity .25s ease;
    }
    body.blackout .stage, body.blackout .top { opacity: 0; pointer-events:none; }
    .shell {
      width: min(190px, 52vw);
      height: min(560px, 72vh);
      position: relative;
      display:grid; place-items: end center;
      user-select:none; -webkit-tap-highlight-color: transparent;
    }
    .flame {
      position:absolute; top:-38px; left:50%;
      transform: translateX(-50%);
      width:26px; height:40px; border-radius:999px;
      background: radial-gradient(circle at 40% 30%,
        rgba(255,255,255,.95),
        rgba(255,200,90,.82) 35%,
        rgba(255,120,40,.26) 70%,
        rgba(0,0,0,0) 72%);
      opacity:0; filter: blur(.2px);
    }
    .shell.burning .flame { opacity:1; animation: flicker 1.3s infinite ease-in-out; }
    @keyframes flicker {
      0%,100% { transform: translateX(-50%) scale(1); }
      50% { transform: translateX(-50%) scale(.92) rotate(-2deg); }
    }
    .candle {
      width:100%; height:100%;
      border-radius:22px;
      background: linear-gradient(180deg,
        rgba(255,220,160,.96),
        rgba(255,150,80,.76) 55%,
        rgba(255,90,40,.56));
      box-shadow: 0 0 38px rgba(255,150,80,.25), 0 0 130px rgba(255,120,60,.12);
      transform-origin: bottom;
      transform: scaleY(1);
      filter: brightness(1);
      will-change: transform, filter;
    }
    .glow {
      position:absolute; left:50%;
      transform: translateX(-50%);
      bottom:-18px;
      width:140%; height:66px;
      background: radial-gradient(closest-side, rgba(255,180,90,.35), rgba(0,0,0,0));
      filter: blur(2px);
      pointer-events:none;
    }
    .hint {
      position: fixed; bottom: 18px; left: 50%;
      transform: translateX(-50%);
      color: rgba(255,255,255,.42);
      font-size: 12px; text-align:center;
      max-width: min(92vw, 520px);
      z-index: 5; pointer-events:none;
    }
    .overlay {
      position: fixed; inset: 0;
      background: rgba(0,0,0,.55);
      display:none; place-items:center; padding:18px;
      z-index: 20;
    }
    .overlay.show { display:grid; }
    .modal {
      width: min(520px, 94vw);
      border-radius: var(--r);
      background: rgba(20,20,26,.92);
      border: 1px solid var(--border);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      padding: 18px;
      box-shadow: 0 20px 80px rgba(0,0,0,.6);
    }
    .mhead { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
    .mtitle { font-weight:760; font-size:18px; display:inline-flex; align-items:center; gap:10px; }
    .heart {
      display:inline-flex; width:28px; height:28px;
      border-radius:10px; background: rgba(255,90,90,.18);
      align-items:center; justify-content:center;
    }
    .x { border:0; background:transparent; color: rgba(255,255,255,.8); font-size:24px; line-height:24px; padding:6px 8px; cursor:pointer; }
    .desc { color: rgba(255,255,255,.76); line-height:1.35; margin:0 0 14px; font-size:14px; }
    .presets { display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; margin-bottom:14px; }
    .chip { padding:10px 0; border-radius:12px; border:1px solid var(--border); background: rgba(0,0,0,.22); color: var(--ink); cursor:pointer; }
    .chip.active { border-color: rgba(255,170,90,.65); box-shadow: 0 0 0 3px rgba(255,170,90,.16); }
    .label { font-size:12px; color: rgba(255,255,255,.6); margin: 8px 2px; }
    .input { width:100%; border-radius:12px; padding:12px; border:1px solid rgba(255,90,90,.5); background: rgba(0,0,0,.25); color: var(--ink); outline:none; margin-bottom:12px; font-size:16px; }
    .row { display:flex; justify-content:space-between; border:1px solid var(--border); background: rgba(0,0,0,.18); border-radius:14px; padding:12px; margin-bottom:12px; }
    .k { font-size:12px; color: rgba(255,255,255,.6); }
    .v { font-weight:650; margin-top:2px; display:inline-flex; align-items:center; gap:8px; }
    .netdot { width:10px; height:10px; border-radius:999px; background: var(--safe); display:inline-block; }
    .send { width:100%; border:0; border-radius:14px; padding:14px; font-weight:800; color:#fff; background: linear-gradient(90deg, rgba(255,120,70,.95), rgba(168,85,247,.9)); cursor:pointer; }
    .fine { margin-top:10px; font-size:12px; color: rgba(255,255,255,.5); text-align:center; }
    .toast {
      position: fixed; left: 50%; top: 58px; transform: translateX(-50%);
      z-index: 30; padding: 10px 12px; border-radius: 999px;
      border: 1px solid var(--border); background: rgba(0,0,0,.45);
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
      color: rgba(255,255,255,.9); font-size: 13px;
      box-shadow: 0 16px 50px rgba(0,0,0,.55);
      max-width: min(92vw, 520px); text-align: center;
      display: none; user-select:none;
    }
    .toast.show { display:block; }
  </style>
</head>
<body>
  <div class="top">
    <div class="pill" id="envPill" aria-label="Environment">
      <span class="dot" id="envDot"></span>
      <span id="envText">Loading…</span>
    </div>
    <div class="pill btn" id="tipBtn" role="button" tabindex="0" aria-label="Tip">Tip</div>
  </div>

  <div class="toast" id="toast"></div>

  <div class="stage">
    <div class="shell" id="shell" role="button" tabindex="0" aria-label="Tap to light the candle">
      <div class="flame" id="flame"></div>
      <div class="candle" id="candle"></div>
      <div class="glow"></div>
    </div>
  </div>

  <div class="hint" id="hint">Tap the candle to start • Tap again to reset</div>

  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Tip modal">
      <div class="mhead">
        <div class="mtitle"><span class="heart">❤</span> Support Developer</div>
        <button class="x" id="closeModal" aria-label="Close">×</button>
      </div>
      <p class="desc">Help keep Melt running — your support funds development and improvements.</p>

      <div class="presets" id="presets"></div>

      <div class="label">Or enter custom amount</div>
      <input class="input" id="custom" inputmode="decimal" placeholder="" />

      <div class="row">
        <div>
          <div class="k">Payment</div>
          <div class="v">USDC</div>
        </div>
        <div style="text-align:right">
          <div class="k">Network</div>
          <div class="v"><span class="netdot"></span> Base</div>
        </div>
      </div>

      <button class="send" id="sendTip">Send <span id="tipAmt">1</span> USDC ❤</button>
      <div class="fine">Payments are made in USDC on Base network.</div>
    </div>
  </div>

  <script type="module" src="/Melt-ui.js"></script>
  <script type="module" src="/script.js"></script>
</body>
</html>
